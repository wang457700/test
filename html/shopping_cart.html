<!doctype html>
<html lang="en">
  
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link href="https://cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet"> 
    <link href="https://cdn.bootcss.com/font-awesome/4.6.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style type="text/css">
		
	</style>
    <title>購物車</title></head> 
	<body style="background: url(img/index_bg.jpg) repeat-y;">

	 <div class="container shopping_cart">
	
		<div class="row topstate">
			<ul class="row">
				<div class="alzx-crumbs alzx-crumbs-f1"> 
					<div class="alzx-con"> 
						<a class="crumbs-01" href="#">主頁</a> 
					  <em>&gt;</em> 
					  <span class="crumbs-02">購物車</span> 
					</div> 
				
				</div>
				<li class="col-md-3 col-xs-3 on1" style=""><img src="img/shopping_cart_top_lc1_w.png" />購物車</li>
				<li class="col-md-3 col-xs-3" style=""><img src="img/shopping_cart_top_lc2.png" />確認訂單</li>
				<li class="col-md-3 col-xs-3" style=""><img src="img/shopping_cart_top_lc3.png" />支付</li>
				<li class="col-md-3 col-xs-3" style="background-image: url();"><img src="img/shopping_cart_top_lc4.png" />訂單完成</li>
			</ul>
		</div>
		<div class="row item-single">
			<div class="col-md-1 col-xs-1" style="text-align: center;" id="checked" data-id='0'>全選</div>
			<div class="col-md-4 col-xs-4" style="">商品</div>
			<div class="col-md-1 col-xs-1" style="">單價</div>
			<div class="col-md-3 col-xs-3" style="">購買數量	</div>
			<div class="col-md-2 col-xs-2" style="">小計</div>
			<div class="col-md-1 col-xs-1" style="">操作</div>
		</div>
		
<!--第1个产品-->		
		<div class="row cart-item-list"  id="list_1" >
			<input type="hidden" value="1000.01" id="unit_price_1"/>
			<input type="hidden" name="subtotal" value="1000.01" id="subtotal_1"/>
			<!-- <input type="hidden" value="2" id="number_1"/> -->
			<div class="col-md-1 col-xs-1" style="">
				<input type="checkbox" class="js-check" data-yid="js-check-y" data-xid="js-check-x" name="ids" value="106" title="ID:106">
				<label for='checkbox1'></label>
			</div>
			<div class="col-md-4 col-xs-4 t2" style="">
				<div class="row">
					<img src="img/f2_1.jpg" class="col-md-5  col-xs-12">
					<p class="col-md-6 col-xs-12">
						<span class="bold">強效專業運動鞋墊 41</span>
						產品型號：1234567890
					</p>
				</div>
			</div>
			<div class="col-md-2 col-xs-2 color_ro font18" id="unit_price_span_1">$ 1000.00</div>
			<div class="col-md-2 col-xs-2" style="">
					<div class="row number">
					  <div class="col-md-12" style="">
						<input id="min_1" name="" type="button" value="-" class="reduce" disabled="disabled" onclick="on_number(1,'min')">  
						<input id="number_1" name="" type="text" value="1" style="width:40px;text-align: center"  class="color_75">  
						<input id="add_1" name="" type="button" value="+" class="add" onclick="on_number(1,'add')">
					  </div>
					</div>
			</div>
			<div class="col-md-2 col-xs-2 color_ro font18" style="">$ <span id="subtotal_span_1">10000.00</span></div>
			<div class="col-md-1 col-xs-1 t6" style=""><i class="fa fa-trash-o" aria-hidden="true" onclick="del('1')"></i></div>

		</div>
		 
		 
<!--第2个产品-->
		<div class="row cart-item-list"  id="list_2" >
			<input type="hidden" value="1000.01" id="unit_price_2"/>
			<input type="hidden" name="subtotal" value="1000.01" id="subtotal_2"/>
			<!-- <input type="hidden" value="2" id="number_1"/> -->
			<div class="col-md-1 col-xs-1" style="">
				<input type="checkbox" class="js-check" data-yid="js-check-y" data-xid="js-check-x" name="ids" value="106" title="ID:106">
			</div>
			<div class="col-md-4 col-xs-4 t2" style="">
				<div class="row">
					<img src="img/f2_1.jpg" class="col-md-5  col-xs-12">
					<p class="col-md-6 col-xs-12">
						<span class="bold">強效專業運動鞋墊 41</span>
						產品型號：1234567890
					</p>
				</div>
			</div>
			<div class="col-md-2 col-xs-2 color_ro font18" id="unit_price_span_2">$ 1000.00</div>
			<div class="col-md-2 col-xs-2" style="">
					<div class="row number">
					  <div class="col-md-12" style="">
						<input id="min_2" name="" type="button" value="-" class="reduce" disabled="disabled" onclick="on_number(2,'min')">  
						<input id="number_2" name="" type="text" value="1" style="width:40px;text-align: center" class="color_75">  
						<input id="add_2" name="" type="button" value="+" class="add" onclick="on_number(2,'add')">
					  </div>
					</div>
			</div>
			<div class="col-md-2 col-xs-2 color_ro font18">$ <span id="subtotal_span_2">10000.00</span></div>
			<div class="col-md-1 col-xs-1 t6"><i class="fa fa-trash-o" aria-hidden="true" onclick="del('2')"></i></div>

		</div>
		 

		<div class="row" style="padding: 20px;">
			<div class="col-md-8" style="">
				<h4>積分抵扣現金</h4>
				<input type="checkbox" class="checkbox"/>您當前有<span class="color_ro">120</span>積分，可抵扣<span class="color_ro">$12.0</span>

			</div>
			<div class="col-md-4" style="float: right;text-align: right;">
				<span class="color_ro">2</span>件商品, 總計: <span class="color_ro" id="total">$ 20000.00</span>
				<br/>運費: $ 0<br/>
				<p style="font-size:22px ">合計 (不含運費)：<span class="color_ro">$ 20000.00</span></p>
				<div class="row" style="padding:10px 0 ">
                   <div class="col-md-6" style="">
                        <button type="button" class="btn btn-default btn-default-edit" style="margin-bottom: 1em">繼續購物</button>
                    </div>
                     <div class="col-md-6" style="">
                        <button type="button" class="btn btn-warning btn-warning-edit">提交訂單</button>
                    </div> 
                </div>
			</div>
		</div>

 
	<script type="text/javascript">
			function on_number(id,type){
				//初始化数量为1,并失效减
				//$('#min' + id).attr('disabled',true);
				//获得文本框对象
				var t = $("#number_" + id); 
				 
				if(type=='add'){
					// 给获取的val加上绝对值，避免出现负数
					t.val(Math.abs(parseInt(t.val()))+1);
					  if (parseInt(t.val())!=1){
					  $('#min_' + id).attr('disabled',false);
					}; 
				}
				if(type=='min'){
					t.val(Math.abs(parseInt(t.val()))-1);
					  if (parseInt(t.val())==1){
					  $('#min_' + id).attr('disabled',true);
					};
					 
				}
				 
				var unit_price = $('#unit_price_' + id).val();
				var number = t.val();
				var subtotal_price = Number(unit_price)*Number(number);
				$('#subtotal_span_' + id).text(subtotal_price.toFixed(2));
				$('#subtotal_' + id).val(subtotal_price.toFixed(2));

				total();
			}

			//统计总价格	
			function total(){
				var sum=0;
				$("input[name^='subtotal']").each(function(){ 
						sum+= Number($(this).val()); 
				});
				$('#total').text('$ '+ sum.toFixed(2));

			}

			//全选或不选
			$("#checked").on('click',function(){
				if($(this).data('id') == 1){
					$("input[name=ids]").each(function(){
						$(this).prop('checked', false);
					});
					$(this).data('id',0);
				}else{
					$("input[name=ids]").each(function(){ 
						$(this).prop('checked', true);
					});
					$(this).data('id',1);
				}
			}); 
 			
 			//移除购物车
			function del(id){

				var r=confirm("你确定要刪除购物车的商品吗？")
			 	if (r==true){
			    	$('#list_' + id).remove();
					total();
			    }

			}
	</script> 
	
	
	
	
	</body>
</html>